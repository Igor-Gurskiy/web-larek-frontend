# Проект: WEB-ларёк - Интернет-магазин для разработчиков

**Frontend-разработчик**

**Цель проекта:**  
Создание SPA-интернет-магазина с каталогом товаров, корзиной и оформлением заказов по принципам MVP-архитектуры.

**Используемые стеки:**  
TypeScript, Webpack, SCSS, REST API

**В рамках проекта выполнены следующие задачи:**

### Архитектура и проектирование:
- Разработал собственную реализацию MVP-архитектуры
- Спроектировал систему компонентов и моделей данных
- Реализовал EventEmitter для управления состоянием приложения

### Функциональность:
- Настроил работу с API магазина (получение товаров, оформление заказов)
- Реализовал динамическое обновление каталога товаров
- Разработал систему модальных окон (просмотр товара, корзина)
- Создал валидацию форм оформления заказа
- Настроил индикаторы загрузки для всех API-запросов

**Результат:**
- Полноценный интернет-магазин с 3 экранами (каталог, корзина, оформление)
- Четкое разделение на Model, View, Presenter слои
- Полная документация архитектуры в README
- Поддержка всех заявленных сценариев работы пользователя

**Структура проекта:**
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

**Важные файлы:**
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Основные интерфейсы

- `ICard` — интерфейс карточки для каталога, корзины и модального окна
- `ICardCatalog` — интерфейс каталога карточек
- `IPage` — интерфейс страницы
- `IBasket` — интерфейс корзины 
- `IContactsForm` — интерфейс формы контактов
- `IPaymentForm` — интерфейс формы оплаты 
- `IOrder` — интерфейс заказа
- `IOrderResult` — интерфейс уведомления об успешном заказе
- `IAppState` — интерфейс состояния приложения
- `IAppAPI` — интерфейс API
- `IActions` — интерфейс событий

## Разновидность архитектуры
В работе реализована MVP архитектура с разделением на слои:
- Model (слой данных) - представляет данные для пользовательского интерфейса
- View (слой отображения) - реализует отображение данных
- Presenter - обрабатывает события, связывая данные с их отображением

### Абстрактные классы и API

#### Component
Базовый компонент

Методы:
- `setText` — установить текстовое содержимое
- `setImage` — установить изображение с алтернативным текстом
- `render` — рендерит содержимое контейнера

#### Model
Базовая модель

#### AppAPI
Класс отвечающий за получение карточек с сервера и отправки заказа на сервер

Методы:
- `getCardCatalog` — получение карточек с сервера
- `setOrder` — отправка заказа

### Слой данных

#### AppState
Класс отвечающий за хранения списка карточек в каталоге, корзине и отображения выбранной карточки в модальном окне; хранит данные заказа; отображает ошибки формы

Методы:
- `setCatalogCards` — устанавливает каталог карточек
- `clearOrder` — очищает заказ
- `getTotal` — определяет общую стоимость выбранных карточек
- `hasCard` — проверяет наличие выбранной карточки в корзине
- `deleteCard` — удаляет выбранную карточку из корзины
- `addCard` — добавляет выбранную карточку в корзину
- `setPaymentField` — добавление данных из формы оплаты к заказу
- `setContactsField` — добавление данных из формы контактов к заказу
- `validatePayment` — валидация формы оплаты
- `validateContacts` — валидация формы контактов

### Слой отображения

#### Page
Класс отвечающий за отображение элементов (карточек и количества товаров в корзине) на странице.

Методы:
- `catalog` — сеттер карточек на странице
- `counter` — сеттер счетчика товаров в корзине
- `locked` — сеттер блокировки прокрутки

#### Card
Класс отвечающий за отображение элементов каждой карточки в каталоге, корзине и модальном окне.

Методы:
- `index` — сеттер устанавливающий номер карточки в корзине
- `id` — сеттер устанавливающий id карточки
- `title` — сеттер устанавливающий название карточки в каталоге, корзине и модальном окне
- `image` — сеттер устанавливающий изображение карточки в каталоге и модальном окне
- `category` — сеттер устанавливающий категорию карточки в каталоге и модальном окне
- `price` — сеттер устанавливающий цену карточки в каталоге, корзине и модальном окне
- `textButton` — сеттер устанавливающий текст кнопки карточки карточки в модальном окне
- `id` — сеттер устанавливающий id карточки
- `title` — сеттер устанавливающий название карточки в каталоге, корзине и модальном окне
- `image` — сеттер устанавливающий изображение карточки в каталоге и модальном окне
- `category` — сеттер устанавливающий категорию карточки в каталоге и модальном окне
- `price` — сеттер устанавливающий цену карточки в каталоге, корзине и модальном окне

#### Success
Класс отвечающий за отображение успешного отправления заказа

Методы:
- `total` — сеттер устанавливающий общую сумму заказа

#### Modal
Класс отвечающий за работу с модальными окнами

Методы:
- `open` — открывает модальное окна
- `close` — закрывает модальное окна
- `render` — рэндерит содержимое модального окна

#### Form
Класс отвечающий за валидацию и вывода ошибок форм

Методы:
- `valid` — сеттер валидирующий кнопку отправки формы
- `errors` — сеттер устанавливающий ошибку
- `render` — рендерит содержимое формы

#### FormPayment
Класс отвечающий за заполнение формы оплаты

Методы:
- `address` — сеттер устанавливающий адресс
- `payment` — сеттер устанавливающий способ оплаты
- `validationFormPayment` — проверка заполненности формы оплаты

#### FormContacts
Класс отвечающий за заполнение формы контактов

Методы:
- `phone` — сеттер устанавливающий номер телефона
- `email` — сеттер устанавливающий email
- `validationFormContacts` — проверка заполненности формы контактов

#### Basket
Класс отвечающий за отображение элементов корзины

Методы:
- `cardList` — выводит выбранные карточки в корзине
- `total` — выводит общую стоимость карточек в корзине
- `valid` — проверка на наличие добавленных карточек
- `clearBasket` — очищает корзину

### Presenter
Взаимодействие слоев данных и отображения происходит в файле `index.ts`, за счет брокера событий `EventEmitter`.

### Демонстрация проекта:
![Проект и модальные окна](fig%206.jpg)